# 电势与电场计算及可视化实验报告

## 一、基本信息

- 小组名称：
- 成员：
- 实验日期：


---

## 二、实验目的

- 理解电势与电场之间的关系；
- 掌握利用电势梯度计算电场的方法；
- 掌握Python和NumPy进行物理场计算与可视化的方法。

---

## 三、实验原理

简要介绍电势、电场定义及其关系，并说明本实验计算方法。

1. 电势与电场的定义

电势（V）：点电荷在空间中某点的电势为 \(V = k\frac{q}{r}\)，其中 k 为库仑常数，q 为电荷量，r 为到电荷的距离。多个点电荷的电势满足叠加原理：\(V = \sum k\frac{q_i}{r_i}\)。
电场（\(\mathbf{E}\)）：电场是电势的负梯度，即 \(\mathbf{E} = -\nabla V\)，在二维空间中分量为 \(E_x = -\frac{\partial V}{\partial x}\)，\(E_y = -\frac{\partial V}{\partial y}\)。

2. 电偶极子模型

本实验考虑一对等量异号电荷（\(q_{\text{pos}} = -q_{\text{neg}}\)），位置分别为 \((+d, 0)\) 和 \((-d, 0)\)，电势为两者电势的叠加：\(V = k\left( \frac{q_{\text{pos}}}{r_{\text{pos}}} + \frac{q_{\text{neg}}}{r_{\text{neg}}} \right)\)
通过计算电势梯度得到电场分量，再利用 Matplotlib 可视化电势分布（等高线图）和电场线（矢量图 / 流线图）。

---

## 四、实验步骤与方法

具体说明你如何实现电势和电场的计算，描述关键函数的实现原理。

1. 关键函数实现

calculate_potential(X, Y)：

原理：计算网格点 \((X, Y)\) 到正负电荷的距离 \(r_{\text{pos}}\) 和 \(r_{\text{neg}}\)，应用电势叠加原理。
作用：生成二维电势矩阵 V。

calculate_electric_field(V, spacing)：

原理：利用np.gradient计算电势的梯度，取负号得到电场分量（注意梯度函数返回顺序为 \([\partial V/\partial y, \partial V/\partial x]\)，需调整顺序）。
作用：返回电场在 x 和 y 方向的分量 \(E_x, E_y\)。

2. 可视化方法

电势分布：使用plt.contourf绘制填充等高线图，通过levels参数自定义电势范围（如\([-500, 500]\)），并用colorbar标注电势值。
电场线：使用plt.streamplot绘制流线图，通过density参数控制线条密度，直观展示电场方向（从正电荷指向负电荷）。

---

## 五、实验结果与分析

![ele](https://github.com/user-attachments/assets/96d425d7-e627-451c-b471-307809474f12)

- 电势分布特点

正电荷周围电势为正，负电荷周围电势为负，两者之间电势梯度最大。
等高线以电荷连线为对称轴，呈对称分布，无穷远处电势趋近于零。

- 电场线方向特点与理论分析比较

方向特点：
电场线从正电荷出发，终止于负电荷，方向始终垂直于等势线（与理论一致）。
电荷附近电场线密集，场强较大；远离电荷处电场线稀疏，场强较小。
与理论对比：结果符合电偶极子电场的理论分布（轴向场强与距离立方成反比，径向对称）。

---

## 六、讨论与总结

- 实验中遇到的问题及解决方案？
问题：测试时出现ImportError和函数名不匹配错误。
解决：统一函数命名（如calculate_potential与导入路径一致），确保模块路径正确（通过sys.path添加项目根目录）。

- 本实验帮助你理解了哪些物理概念？
深刻理解电势叠加原理和 “电场是电势梯度的负值” 这一关系。
掌握数值方法（梯度计算）在物理场分析中的应用，理解离散网格上的微分近似。

- 如何进一步扩展此实验？
扩展方向
三维可视化：计算三维空间电势与电场，使用matplotlib 3D或Mayavi绘制。
不同电荷配置：研究多电荷系统（如四极子）或连续电荷分布的电势与电场。
动态演示：通过动画展示电荷移动时电势和电场的变化。

---
